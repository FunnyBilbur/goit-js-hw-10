{"version":3,"file":"commonHelpers.js","sources":["../src/js/01-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nconst BtnStart = document.querySelector('button');\nconst days = document.querySelector('span[data-days]');\nconst hours = document.querySelector('span[data-hours]');\nconst minutes = document.querySelector('span[data-minutes]');\nconst seconds = document.querySelector('span[data-seconds]');\n\nlet intervalId;\nlet userSelectedDate;\nlet differanceBeetWeenTime;\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        if (userSelectedDate.getTime() > Date.parse(new Date())) {\n            // window.alert('Correct');\n            BtnStart.disabled = false;\n        }\n        else {\n            BtnStart.disabled = true;\n            window.alert('Please choose a date in the future');\n        }\n        clearInterval(intervalId);\n    },\n\n};\n\nconst myInput = document.querySelector(\"#datetime-picker\");\nconst fp = flatpickr(myInput, options);  // flatpickr\n\nBtnStart.addEventListener('click', () => {\n    intervalId = setInterval(() => {\n        differanceBeetWeenTime = userSelectedDate.getTime() - Date.parse(new Date());\n        const DateObj = convertMs(differanceBeetWeenTime);\n        // console.log('Differ is ', differanceBeetWeenTime);\n        console.log('Differ is ', DateObj);\n        days.innerText = DateObj.days.toString().padStart(2, \"0\");\n        hours.innerText = DateObj.hours.toString().padStart(2, \"0\");\n        minutes.innerText = DateObj.minutes.toString().padStart(2, \"0\");\n        seconds.innerText = DateObj.seconds.toString().padStart(2, \"0\");\n        if (differanceBeetWeenTime === 0) {\n            clearInterval(intervalId);\n        }\n    }, 1000);\n});\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n    return { days, hours, minutes, seconds };\n}\n// const makeGreeting = guestName => {\n//     if (!guestName) {\n//         return Promise.reject(\"Guest name must not be empty\");\n//     } else {\n//         return Promise.resolve(`Welcome ${guestName}`);\n//     }\n// };\n// makeGreeting(\"Dmytrii\").then(greeting => console.log(greeting)).catch(error => console.error(error));\n// const makePromise = ({ value, delay, shouldResolve = true }) => {\n//     return new Promise((resolve, reject) => {\n//         setTimeout(() => {\n//             if (shouldResolve) {\n//                 resolve(value);\n//             } else {\n//                 reject(value);\n//             }\n//         }, delay);\n//     });\n// };\n// makePromise({ value: \"Some value\", delay: 3000 })\n//     .then(result => console.log(result))\n//     .catch(error => console.error(error));\n// makePromise({ value: \"A\", delay: 1000 })\n//     .then(value => console.log(value)) // \"A\"\n//     .catch(error => console.error(error));\n// makePromise({ value: \"B\", delay: 4000 })\n//     .then(value => console.log(value)) // \"B\"\n//     .catch(error => console.error(error));\n// makePromise({ value: \"C\", delay: 2000, shouldResolve: false })\n//     .then(value => console.log(value))\n//     .catch(error => console.error(error)); // \"C\""],"names":["BtnStart","days","hours","minutes","seconds","intervalId","userSelectedDate","differanceBeetWeenTime","options","selectedDates","myInput","flatpickr","DateObj","convertMs","ms"],"mappings":"wIAGA,MAAMA,EAAW,SAAS,cAAc,QAAQ,EAC1CC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,oBAAoB,EAE3D,IAAIC,EACAC,EACAC,EACJ,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBH,EAAmBG,EAAc,GAC7BH,EAAiB,UAAY,KAAK,MAAM,IAAI,IAAM,EAElDN,EAAS,SAAW,IAGpBA,EAAS,SAAW,GACpB,OAAO,MAAM,oCAAoC,GAErD,cAAcK,CAAU,CAC3B,CAEL,EAEMK,EAAU,SAAS,cAAc,kBAAkB,EAC9CC,EAAUD,EAASF,CAAO,EAErCR,EAAS,iBAAiB,QAAS,IAAM,CACrCK,EAAa,YAAY,IAAM,CAC3BE,EAAyBD,EAAiB,QAAS,EAAG,KAAK,MAAM,IAAI,IAAM,EAC3E,MAAMM,EAAUC,EAAUN,CAAsB,EAEhD,QAAQ,IAAI,aAAcK,CAAO,EACjCX,EAAK,UAAYW,EAAQ,KAAK,SAAQ,EAAG,SAAS,EAAG,GAAG,EACxDV,EAAM,UAAYU,EAAQ,MAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC1DT,EAAQ,UAAYS,EAAQ,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC9DR,EAAQ,UAAYQ,EAAQ,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC1DL,IAA2B,GAC3B,cAAcF,CAAU,CAE/B,EAAE,GAAI,CACX,CAAC,EAED,SAASQ,EAAUC,EAAI,CAOnB,MAAMb,EAAO,KAAK,MAAMa,EAAK,KAAG,EAE1BZ,EAAQ,KAAK,MAAOY,EAAK,MAAO,IAAI,EAEpCX,EAAU,KAAK,MAAQW,EAAK,MAAO,KAAQ,GAAM,EAEjDV,EAAU,KAAK,MAASU,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,MAAO,CAAE,KAAAb,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C"}